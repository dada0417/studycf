<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
 	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/default.html}">
<th:block layout:fragment="customTitle">
		<title th:text="${title}"></title>
</th:block>	

<th:block layout:fragment="customJs">
	<script type="text/javascript">
	/* 유형에 맞는 상품 가져오기 */
	$(function(){
			 $(document).on('click','input[name="goodsCtgCd"]', function(e) {
				var goodsCtgCd = $('input[name="goodsCtgCd"]:checked').val();
			    $.ajax({
			        url : '/goods/goodsList',
			        type : 'post',
			        data : {
			            'goodsCtgCd' : goodsCtgCd
			        },
			        dataType : 'json',
			        success : function(data) {
			            console.log(JSON.stringify(data));
			            console.log(data.length);
			            var txt1='';
			                for(var i =0;i<data.length;i++)
			                {
			              	  txt1 +='<li><div class="row"><input type="radio" class="col-xs-3" id="goodsDetail'+i+'" name="gooodsDetail">' +'<label value="'+data[i].goodsNm+'" '    +' class="col-xs-3">' + data[i].goodsNm+" ("+data[i].goodsExpirationDate+"일)" +"</label>" + '<label value="'+data[i].price+'" '    +'class="col-xs-3">' + data[i].price +" (원)" + "</label></div> </li>" ;
			                }
			             
			                console.log(txt1);
			                $('#goodsD').empty();
			                $('#goodsD').append(txt1);
			               
			            }
			    });
			}); 
		}); 
			
	</script>
</th:block>



<th:block layout:fragment = "customContents">
<style>
	.select {
	    padding: 15px 20px;
	}
	.select input[type=radio]{
	    display: none;
	}
	.select input[type=radio]+label{
	    display: inline-block;
	    cursor: pointer;
	    height: 40px;
	    width: 120px;
	    border: 1px solid #333;
	    line-height: 24px;
	    text-align: center;
	    padding: 8px 0;
	    font-weight:bold;
	    font-size:13px;
	    margin-right: 10px;
	}
	.select input[type=radio]+label{
	    background-color: #fff;
	    color: #333;
	}
	.select input[type=radio]:checked+label{
	    background-color: #333;
	    color: #fff;
	}
</style>

		<div class="content">
            <div class="container-fluid">
                <div class="card">
                    <div class="header">
                        <h4 class="title">이용권 구매</h4>
                    </div>
                    <div class="content">
						<form id="addOrderForm" th:action = "@{/order/addOrder}" method="post"> 
                            <div class="row">
                                <div class="col-md-9">
                                    <h5>상품 유형 선택 </h5>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-9 select">
                                	<input type="radio" id="goodsCtgCdDay" name="goodsCtgCd" th:value = "day"><label for="goodsCtgCdDay">일일권</label>                                 
                                    <input type="radio" id="goodsCtgCdTime" name="goodsCtgCd" th:value = "time"><label for="goodsCtgCdTime">시간권</label>                         
                                    <input type="radio" id="goodsCtgCdTerm" name="goodsCtgCd" th:value = "term"><label for="goodsCtgCdTerm">기간권</label>
                                </div>
                            </div>
			                <div class="row">
                                <div class="col-md-9">
                                    <h5>상품 선택 </h5>
                                </div>
                            </div>
			                <div class="content">
			                    <ul class="list-unstyled team-members" id="goodsD">
	                               
	                            </ul>
			                </div>
			                <div class="row">
                                <div class="col-md-9">
                                    <h5>상품 이용 구매 정보 </h5>
                                </div>
                            </div>
			                <div class="content">
			                    <ul class="list-unstyled team-members">
	                                <li>
	                                <div class="row">
	                                    	<input type="radio" name="goodsDetail" class="col-xs-3">
	                                        <label class="col-xs-3" id="goodsNm">dfasd
	                                        </label>
	                                        <label class="col-xs-3" id="goodsExpirationDate" >adsfa
	                                        </label>
	                                        <label class="col-xs-3" id="price" >asdfa
	                                        </label>
	                                    </div>
	                                </li>
	                                <li>
	                                    <div class="row">
	                                        <div class="col-xs-6">
	                                     		       가격
	                                        </div>
	                                        <div class="col-xs-6">
	                                              2주(자유석)
	                                        </div>
	                                    </div>
	                                </li>
	                                <li>
	                                    <div class="row">
	                                        <div class="col-xs-6">
	                                      		사용기간
	                                        </div>
	                                        <div class="col-xs-6">
	                                      		160시간
	                                        </div>
	                                    </div>
	                                </li>
	                            </ul>
			                </div>
						</form>
			        </div>
                </div>
            </div>
        </div>

</html>