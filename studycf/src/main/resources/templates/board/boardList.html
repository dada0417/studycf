<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
 	  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  layout:decorate="~{layout/default.html}">
<th:block layout:fragment="customTitle">
		<title th:text="${title}"></title>
</th:block>	

<th:block layout:fragment="customJs">
	<script type="text/javascript" th:src="@{/js/jquery-3.6.0.min.js}"></script>
	
	<script>
		$(function(){
			var $boardTr = $('#boardBody tr');

			$boardTr.click(function(){
				console.log(this);
 
				var boardCd = $(this).find('input').val();
				console.log(boardCd);
					
				$(location).attr('href','/board/boardDetail?boardCd='+boardCd);
			});
		});
	</script>
</th:block>
<th:block layout:fragment = "customContents">
	<div class="container-fluid">
      <div class="row">
          <div class="col-md-12">
              <div class="card">
                  <div class="header">
                      <h4 class="title">게시판</h4>
                      <p class="category">Here is a subtitle for this table</p>
                  </div>
                  <div class="content table-responsive table-full-width">
                      <table class="table table-striped">
                          <thead style="font: bold;">
                          	<tr>
	                            <th>카테고리</th>
	                          	<th>제목</th>
	                          	<th>내용</th>
	                          	<th>작성자</th>
	                          	<th>등록일</th>
                          	</tr>
                          </thead>
                          <tbody id="boardBody">
                              <tr th:if="${not #lists.isEmpty(boardList)}" th:each="l : ${boardList}">
                              	<input type="hidden" th:value="${l.boardCd}">
                              	<td th:text="${l.boardCtg.boardCtgNm}"></td>
                              	<td th:text="${l.boardTitle}"></td>
                              	<td th:text="${l.boardContent}"></td>
                              	<td th:text="${l.userId}"></td>
                              	<td th:text="${l.boardDate}"></td>
                    
                              </tr>
                              <tr th:unless="${not #lists.isEmpty(boardList)}">
								<td colspan="5">등록된 글이 없습니다.</td>
							</tr>	
                          </tbody>
                      </table>
                  </div>
              </div>
          </div>
		</div>
	</div>
	<div class="col-lg-12 text-center">
		<div class="pagination__option">
			<a th:if="${currentPage > 1}" th:href="@{/board/boardList(currentPage=${currentPage - 1})}"><i class="fa fa-angle-left"></i></a>
			<th:block th:each="num : ${#numbers.sequence(startPageNum,endPageNum)}">
				<label th:if="${currentPage eq num}" th:text="${(num<10) ? '0' + num  :  num }"></label>
				<a th:unless="${currentPage eq num}" th:href="@{/board/boardList(currentPage=${num})}" th:text="${(num<10) ? '0' + num  :  num }"></a>
			</th:block>
			<a th:if="${currentPage < lastPage}" th:href="@{/board/boardList(currentPage=${currentPage + 1})}"><i class="fa fa-angle-right"></i></a>
		</div>
	</div>
	<div class="row" id="addBoardBtn">
		<div class="col-lg-6 col-md-6 col-sm-6">
			<div class="cart__btn update__btn">
				<a th:href="@{/board/addBoard}" 
				   th:if="${session.SID =='id001'}">
					게시글 작성하기
				</a>
			</div>
		</div>
	</div>
</th:block>

</html>